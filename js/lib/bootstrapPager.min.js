/*
 * JSModel
 * https://github.com/chadkuehn/BootstrapPager
 * Version: 1.0.8
 *
 * Copyright Â© 2014 Chad Kuehn (http://chadkuehn.com)
 */

$.fn.dataTableExt.oPagination.bootstrapPager={fnInit:function(e,t,n){if(e.sTableId==""){$.error("Datatable requires an ID.");return}var r=$("<span />");var i=$("<span />");var s=$("<span />");var o=$("<span />");var u=$('<input type="text" />');var a=$("<span />");var f=$("<span />");var l=$("<span />");var c=$("<span />");var h=$("<span />");var p=$("<span />");var d=$("<label />");r.addClass("paginate_button paginate_button_first");i.addClass("paginate_button  paginate_button_previous");s.addClass("paginate_button paginate_button_next");o.addClass("paginate_button paginate_button_last");a.addClass("paginate_prefix");f.addClass("paginate_suffix");u.addClass("paginate_textbox");l.addClass("paginate_button_first_disabled hide");h.addClass("paginate_button_previous hide");c.addClass("paginate_button_next_disabled hide");p.addClass("paginate_button_last hide");l.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);h.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);c.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);p.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);r.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);i.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);s.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);o.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);l.css("color","#CCC");c.css("color","#CCC");h.css("color","#CCC");p.css("color","#CCC");d.css("font-weight","normal");$(t).attr("id",e.sTableId+"_paginate");r.attr("id",e.sTableId+"_paginate_button_first");i.attr("id",e.sTableId+"_paginate_button_previous");s.attr("id",e.sTableId+"_paginate_button_next");o.attr("id",e.sTableId+"_paginate_button_last");l.attr("id",e.sTableId+"_paginate_button_first_disabled");h.attr("id",e.sTableId+"_paginate_button_previous_disabled");c.attr("id",e.sTableId+"_paginate_button_next_disabled");p.attr("id",e.sTableId+"_paginate_button_last_disabled");u.attr("id",e.sTableId+"_paginate_textbox");f.attr("id",e.sTableId+"_paginate_suffix");a.attr("id",e.sTableId+"_paginate_prefix");u.addClass("form-control").css("display","inline");a.css("padding-right",3);$(d).append(a).append(u).append(f);$(t).append(r).append(l).append(i).append(h).append(d).append(s).append(c).append(o).append(p);r.click(function(){e.oApi._fnPageChange(e,"first");n(e)});i.click(function(){e.oApi._fnPageChange(e,"previous");n(e)});s.click(function(){e.oApi._fnPageChange(e,"next");n(e)});o.click(function(){e.oApi._fnPageChange(e,"last");n(e)});u.keypress(function(e){var e=window.event||e;var t=e.charCode||e.keyCode;if(String.fromCharCode(t).match(/[^0-9]/g)){return false}})},fnUpdate:function(e,t){if(!e.aanFeatures.p){return}if(e.sTableId==""){return}var n;if(e._iDisplayLength==-1){n=1}else{n=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}var r=0;if(n!=0){r=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1}var i=false;var s=45;var o="glyphicon glyphicon-chevron-right";var u="glyphicon glyphicon-chevron-left";var a="glyphicon glyphicon-step-backward";var f="glyphicon glyphicon-step-forward";var l;for(var c in e.oInit){if(c.toUpperCase()=="PAGERSETTINGS"){l=e.oInit[c];break}}if(l){for(var c in l){var h=l[c];switch(c.toUpperCase()){case"TEXTBOXWIDTH":s=h;break;case"NEXTICON":o=h;break;case"PREVIOUSICON":u=h;break;case"FIRSTICON":a=h;break;case"LASTICON":f=h;break;case"SEARCHONENTER":i=h;break}}}var p=$("#"+e.sTableId+"_paginate");var d=$("#"+e.sTableId+"_paginate_textbox");var v=$("#"+e.sTableId+"_paginate_prefix");var m=$("#"+e.sTableId+"_paginate_suffix");var g=$("#"+e.sTableId+"_paginate_button_first");var y=$("#"+e.sTableId+"_paginate_button_previous");var b=$("#"+e.sTableId+"_paginate_button_next");var w=$("#"+e.sTableId+"_paginate_button_last");var E=$("#"+e.sTableId+"_paginate_button_first_disabled");var S=$("#"+e.sTableId+"_paginate_button_previous_disabled");var x=$("#"+e.sTableId+"_paginate_button_next_disabled");var T=$("#"+e.sTableId+"_paginate_button_last_disabled");d.css("width",s);if(a==""){g.hide();E.hide()}else{g.addClass(a);E.addClass(a)}if(o==""){b.hide();x.hide()}else{b.addClass(o);x.addClass(o)}if(u==""){y.hide();S.hide()}else{y.addClass(u);S.addClass(u)}if(f==""){w.hide();T.hide()}else{w.addClass(f);T.addClass(f)}d.off("keyup").on("keyup",function(n){if(i){if(n.which!=13){return}}var r=e._iDisplayLength*(this.value-1);if(r>e.fnRecordsDisplay()){e._iDisplayStart=(Math.ceil((e.fnRecordsDisplay()-1)/e._iDisplayLength)-1)*e._iDisplayLength;t(e);return}e._iDisplayStart=r;t(e)});if(r==1&&n>1){g.addClass("hide");y.addClass("hide");b.removeClass("hide");w.removeClass("hide");E.removeClass("hide");S.removeClass("hide");x.addClass("hide");T.addClass("hide");d.removeAttr("readonly");p.show()}else if(r>1&&r<n){g.removeClass("hide");y.removeClass("hide");b.removeClass("hide");w.removeClass("hide");E.addClass("hide");S.addClass("hide");x.addClass("hide");T.addClass("hide");d.removeAttr("readonly");p.show()}else if(r==n&&n>1){g.removeClass("hide");y.removeClass("hide");b.addClass("hide");w.addClass("hide");E.addClass("hide");S.addClass("hide");x.removeClass("hide");T.removeClass("hide");d.removeAttr("readonly");p.show()}else{g.addClass("hide");y.addClass("hide");b.addClass("hide");w.addClass("hide");E.removeClass("hide");S.removeClass("hide");x.removeClass("hide");T.removeClass("hide");d.attr("readonly","readonly");if(n==0){p.hide()}}m.html(" of "+(""+n).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+" pages");d.val(r)}}